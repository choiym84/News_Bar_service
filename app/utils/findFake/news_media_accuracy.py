# ✅ 한국 주요 언론사 신뢰도 사전 구축
# 고려 기준:
# - 팩트체크 기관 제재 사례 (SNU 팩트체크, 뉴스톱 등)
# - 언론중재위 제소 건수 추산
# - 언론학계/언론인 단체 신뢰도 조사 (한국언론진흥재단)
# - 정치적 편향성 및 가짜뉴스 전파 이력
# - 대중 인식 기반 신뢰도 설문 참고

# ✅ 점수 계산 기준 (총점 1.0 기준)
# - 기본 점수: 0.8
# - 팩트체크 제재 건수:
#     - 0건: +0.05
#     - 1~2건: 0
#     - 3건 이상: -0.05
# - 언론중재위 제소 건수(연 평균):
#     - 10건 이하: +0.05
#     - 11~30건: 0
#     - 31건 이상: -0.1
# - 신뢰도 설문 조사 상위권 (상위 30%): +0.05
# - 정치적 편향 및 가짜뉴스 이력:
#     - 뚜렷한 사례 없음: +0.05
#     - 편향 지적/논란 있음: -0.05 ~ -0.1

media_trust_scores = {
    # 🟢 공영/전통 언론사 - 높은 신뢰도
    "연합뉴스": 0.95,     # +0.05(팩트체크 없음) +0.05(제소 낮음) +0.05(설문 상위) +0.0(편향 없음)
    "KBS": 0.9,            # +0.05(팩트체크 없음) +0.05(제소 낮음) +0.05(설문 상위) -0.05(약한 편향 지적)
    "MBC": 0.88,           # +0.05(팩트체크 없음) +0.0(제소 중간) +0.05(설문 상위) -0.02(약한 편향 논란)
    "SBS": 0.85,           # +0.05(팩트체크 없음) +0.0(제소 중간) +0.05(설문 중상위) +0.0(편향 없음)
    "YTN": 0.82,           # +0.05(팩트체크 없음) -0.05(제소 다소 있음) +0.05(설문 상위) -0.03(약간 편향 있음)
    "한겨레": 0.85,        # +0.05(팩트체크 없음) +0.0(제소 중간) +0.05(설문 중상위) -0.05(진보 편향 평가)
    "경향신문": 0.83,      # +0.05(팩트체크 없음) +0.0(제소 중간) +0.05(설문 중상위) -0.07(진보 성향 강함)

    # 🟡 민영 주요 종합지 - 중간~중상 신뢰도
    "중앙일보": 0.75,      # 0.0(팩트체크 일부) +0.0(제소 중간) +0.0(설문 중간) -0.05(보수 편향 지적)
    "동아일보": 0.72,      # -0.05(팩트체크 있음) -0.05(제소 다소 있음) +0.05(설문 중상위) -0.03(편향 지적)
    "한국일보": 0.8,       # +0.05(팩트체크 없음) +0.0(제소 중간) +0.05(설문 상위) -0.05(보수 편향 지적)
    "서울경제": 0.7,       # -0.05(팩트체크 일부) +0.0(제소 중간) +0.0(설문 중간) -0.05(시장 성향 강조)
    "헤럴드경제": 0.7,     # -0.05(팩트체크 일부) +0.0(제소 중간) +0.0(설문 중간) -0.05(경제 성향 중심)
    "세계일보": 0.68,      # -0.05(팩트체크 있음) +0.0(제소 중간) +0.0(설문 중간) -0.07(보수 성향 강함)
    "뉴시스": 0.83,        # +0.05(팩트체크 없음) +0.0(제소 중간) +0.05(설문 중상위) -0.02(편향 지적 적음)
    "한국경제": 0.65,  # -0.05(팩트체크 일부) -0.05(설문 중하위) -0.05(시장 편향 강함)
    "ChosunBiz": 0.6,  # -0.05(팩트체크 일부) -0.05(제소 중상) -0.05(설문 중하위) -0.05(시장/보수 편향)
    "미디어오늘": 0.72,  # +0.0(팩트체크 없음) +0.0(제소 적음) +0.05(언론전문 신뢰도) -0.03(진보 편향 지적)

    # 🔴 정치성향 강하거나 제소 이력 높은 언론 - 낮은 신뢰도
    "조선일보": 0.6,       # -0.05(팩트체크 다수) -0.1(제소 다수) -0.05(설문 하위) -0.1(보수 편향 강함)
    "TV조선": 0.58,        # -0.05(팩트체크 있음) -0.1(제소 다수) -0.05(설문 하위) -0.1(편향성 강함)
    "채널A": 0.55,         # -0.05(팩트체크 있음) -0.1(제소 다수) -0.05(설문 하위) -0.1(편향성 강함)
    "국민일보": 0.6,       # -0.05(팩트체크 있음) -0.05(제소 중상) -0.05(설문 중하위) -0.05(보수 성향)
    "문화일보": 0.62,      # -0.05(팩트체크 있음) -0.05(제소 중상) -0.05(설문 중하위) -0.03(편향 지적)
    "뉴데일리": 0.4,       # -0.05(팩트체크 있음) -0.1(제소 다수) -0.05(설문 하위) -0.2(편향 매우 강함)
    "데일리안": 0.35,      # -0.05(팩트체크 있음) -0.1(제소 다수) -0.05(설문 하위) -0.25(편향 매우 강함)
    "펜앤드마이크": 0.2,   # -0.05(팩트체크 있음) -0.1(제소 다수) -0.05(설문 없음) -0.4(극단적 편향)
    "뉴스타운": 0.15,      # -0.05(팩트체크 다수) -0.1(제소 다수) -0.05(설문 없음) -0.45(가짜뉴스 빈도 높음)
    "자유일보": 0.1,       # -0.05(팩트체크 다수) -0.1(제소 다수) -0.05(설문 없음) -0.5(가짜뉴스 및 극단성)
    "미디어워치": 0.05,    # -0.05(팩트체크 다수) -0.1(제소 다수) -0.05(설문 없음) -0.55(가짜뉴스 심각)

    # 🟤 기타 신생 인터넷 언론사
    "오마이뉴스": 0.7,     # +0.0(팩트체크 있음) +0.0(제소 중간) +0.0(설문 중간) -0.1(진보 성향 강함)
    "프레시안": 0.72,      # +0.0(팩트체크 있음) +0.0(제소 중간) +0.05(설문 중상위) -0.08(진보 편향 지적)
    "뉴스1": 0.78,         # +0.05(팩트체크 없음) +0.0(제소 적음) +0.05(설문 상위) -0.07(약간 편향)
    "뉴스핌": 0.75,        # +0.05(팩트체크 없음) +0.0(제소 적음) +0.0(설문 중간) -0.05(약간 편향)
    "이데일리": 0.73,      # +0.0(팩트체크 있음) +0.0(제소 중간) +0.0(설문 중간) -0.07(경제 편향)
    "아시아경제": 0.7,    # +0.0(팩트체크 있음) +0.0(제소 중간) +0.0(설문 중간) -0.1(경제 편향)
    "비즈니스워치": 0.75,  # +0.05(팩트체크 없음) +0.0(제소 적음) +0.0(설문 중간) -0.05(시장 편향)

    # ➕ 필요시 추가 가능
}


# ✅ 언론사 신뢰도 점수 및 위험도 보정 함수

def compute_media_trust_penalty(media_name, max_penalty=0.15):
    media_trust_scores = {
        "연합뉴스": 0.95, "KBS": 0.9, "MBC": 0.88, "SBS": 0.85, "YTN": 0.82,
        "한겨레": 0.85, "경향신문": 0.83, "중앙일보": 0.75, "동아일보": 0.72, 
        "한국일보": 0.8, "서울경제": 0.7, "헤럴드경제": 0.7, "세계일보": 0.68, "뉴시스": 0.83, "한국경제": 0.65, "ChosunBiz": 0.6, "미디어오늘": 0.72,
        "조선일보": 0.6, "TV조선": 0.58, "채널A": 0.55, "국민일보": 0.6,
        "문화일보": 0.62, "뉴데일리": 0.4, "데일리안": 0.35, "펜앤드마이크": 0.2,
        "뉴스타운": 0.15, "자유일보": 0.1, "미디어워치": 0.05,
        "오마이뉴스": 0.7, "프레시안": 0.72, "뉴스1": 0.78, "뉴스핌": 0.75,
        "이데일리": 0.73, "아시아경제": 0.7, "비즈니스워치": 0.75
    }

    # 기본 신뢰도 점수 가져오기
    trust_score = media_trust_scores.get(media_name)

    if trust_score is None:
        print(f"⚠️ 알 수 없는 언론사: '{media_name}' → 기본 신뢰도 0.5 적용")
        trust_score = 0.5

    # 위험도 보정 계산 (신뢰도 낮을수록 위험도 가중)
    risk_penalty = round((1.0 - trust_score) * max_penalty, 4)

    return trust_score, risk_penalty